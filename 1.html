
<?xml version= "1.0" encoding ="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd" >
<html xmlns= "http://www.w3.org/1999/xhtml" >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<TITLE>JavascriptMapAPI示例</TITLE>


<link rel="icon" href="../ui/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="../ui/favicon.ico" type="image/x-icon" />
<link rel="bookmark" href="../ui/favicon.ico" type="image/x-icon" />

<link rel="stylesheet" href="../css/themes/smoothness/jquery-ui.min.css">

<style type="text/css">
html {
	overflow: hidden;
}

body {
	margin: 0;
	padding: 0;
	font-size: 12px;
	background: #dcddfb;
	width: 100%;
	width: auto !important;
	height: 100%;
	overflow: hidden;
}

.map {
	border: 1px solid #909ab5;
	height: 100%;
	width: 100%;
	background-color: #F4F3F0;
}

.inputtext {
	width: 100%;
	height: 100px;
	word-wrap: normal;
	word-break: break-all;
}

.resulttext {
	width: 100%;
	height: 300px;
	word-wrap: break-word;
	word-break: break-all;
}
</style>
<link href="pretpage/css/head.css" type="text/css" rel="stylesheet" />
<link rel="stylesheet" href="../css/codemirror.css">
<script src="../js/codemirror.js"></script>
<script src="../js/cm/javascript.js"></script>

<SCRIPT type="text/javascript" src="../js/jquery-1.11.1.min.js"></SCRIPT>
<SCRIPT type="text/javascript" src="../js/jquery-ui-1.11.0.min.js"></SCRIPT>
<SCRIPT type="text/javascript" src="../js/jquery.layout-latest.js"></SCRIPT>

 



 
<script type="text/javascript" language="javascript" src="http://a.qqearth.com:81/SE_JSAPI?v=ol&uid=cttic7501E5D4DA87AC39D782741CD794002D
"></script>
 

<SCRIPT type="text/javascript">

var uid="cttic7501E5D4DA87AC39D782741CD794002D";

	var map;
	$(document).ready(
		function() {
 
		var editor = CodeMirror.fromTextArea(document.getElementById("script"), {
	        lineNumbers: true,
	        mode:{name: "javascript", json: true}
	      });
			
		//界面排布
		layout();

		//新建地图
		var SE = EV;
		

		map = new SE.Map("map");
		map.centerAndZoom(new SE.LngLat(116.39885, 39.96571), 5);
	 

		$("#run").button().click(function(event) {
			//var js = $("#script").val();
			
			map.clearOverLays();
			var js = editor.getValue();
			eval(js);
		});
		
	
		
		$(".demobtn").button().click(function(event) {
			$.ajax({
				dataType:"text",
				url : "demo/" + this.id + ".js",
				success : function(data, textStatus) {

					editor.setValue(data);
				}
			});
			
		});
		
		
		
		
		
	});
	
	function updateMap(){
		if(map)
			map.updateSize();		
	}
	
	function layout(){
		var layoutSettings_Outer = {
				name : "outerLayout" ,
				defaults : {
					size : "auto",
					minSize : 50,
					paneClass : "pane" 	,
					resizerClass : "resizer" ,
					togglerClass : "toggler" 	,
					buttonClass : "button" 	,
					contentSelector : ".content" ,
					contentIgnoreSelector : "span" ,
					togglerLength_open : 35,
					togglerLength_closed : 35 ,
					hideTogglerOnSlide : true ,
					togglerTip_open : "Close This Pane",
					togglerTip_closed : "Open This Pane",
					resizerTip : "Resize This Pane",
					onresize:updateMap,
					fxName : "slide" ,
					fxSpeed_open : 750,
					fxSpeed_close : 1500,
					fxSettings_open : {
						easing : "easeInQuint"
					},
					fxSettings_close : {
						easing : "easeOutQuint"
					}
				},
				north : {
					spacing_open : 1 // cosmetic spacing
					,
					togglerLength_open : 0 // HIDE the toggler button
					,
					togglerLength_closed : -1 // "100%" OR -1 = full
					// width of pane
					,
					resizable : false,
					slidable : false
					// override default effect
					,
					fxName : "none"
				},
				west : {
					size : 300,
					spacing_closed : 21 // wider space when closed
					,
					togglerLength_closed : 21 // make toggler 'square'
					// - 21x21
					,
					togglerAlign_closed : "top" // align to top of
					// resizer
					,
					togglerLength_open : 0 // NONE - using custom
					// togglers INSIDE west-pane
					,
					togglerTip_open : "Close West Pane",
					togglerTip_closed : "Open West Pane",
					resizerTip_open : "Resize West Pane",
					slideTrigger_open : "click" // default
					,
					initClosed : false
					// add 'bounce' option to default 'slide' effect
					,
					fxSettings_open : {
						easing : "easeOutBounce"
					}
				}

			};

			$('body').layout(layoutSettings_Outer);
			
		 
	}
	
</SCRIPT>

</HEAD>
<BODY>
   <DIV class="ui-layout-north">
		
	<div class="head">
		<h1>JS客户端接口示例1</h1>
	    <div class="link_right">
			<a href="api.jsp">JS服务接口示例</a>
	        <a href="mapapi.jsp">JS客户端接口示例1</a>
	        <a href="demo.jsp">JS客户端接口示例2</a>
	    </div>
	</div>
	</DIV>
	
	<DIV class="ui-layout-center">
	
		<div id="map" class="map"> </div>
		
	</DIV>
	
	
	<DIV class="ui-layout-west">
		 		
		<button id="demo1" class="demobtn">$1:最佳比例尺和位置显示</button>
		<button id="demo2" class="demobtn">$2:键盘操作</button>
	 
 		<button id="demo3" class="demobtn">$3:地图动画</button>
 		<button id="demo4" class="demobtn">$4:地图类型</button>
 		 
 		<button id="demo5" class="demobtn">$5:计算距离</button>
 		<button id="demo6" class="demobtn">$6:多边形和点击事件</button>
 		
 		<button id="demo7" class="demobtn">$7:点和范围关系</button>
 		<button id="demo8" class="demobtn">$8:点和多边形关系</button>
 		
 		<button id="demo9" class="demobtn">$9:服务api测试</button>
 		<button id="demo10" class="demobtn">$10:聚合测试</button>
 		 
 	 
		<textarea class="inputtext" id="script"></textarea>
		
		<button id="run">运行</button>
	</DIV>
	
	
	 
</BODY>
</HTML>